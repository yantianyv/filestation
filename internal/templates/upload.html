<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>上传文件 - {{.SiteTitle}}</title>
    <link rel="stylesheet" href="/static/fontawesome-free-6.7.2-web/css/all.min.css">
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <div class="upload-box">
            <a href="/" class="back-link"><i class="fas fa-arrow-left"></i> 返回首页</a>

            <h1 class="page-title">上传临时文件</h1>

            <form method="post" enctype="multipart/form-data" id="uploadForm">
                <div class="form-group">
                    <label for="file" class="dropzone" id="dropzone">
                        <i class="fas fa-cloud-upload-alt"></i><br>
                        点击或拖拽文件到这里上传 (支持多选)
                    </label>
                    <input type="file" name="file" id="file" required multiple style="display: none;">

                    <div class="file-list" id="file-list"></div>
                </div>

                <div class="form-group">
                    <label for="description">文件描述 (可选)</label>
                    <textarea name="description" id="description" placeholder="请输入文件描述..."></textarea>
                </div>

                <div class="form-group">
                    <label for="password">下载密码 (可选)</label>
                    <input type="text" name="password" id="password" class="form-control" placeholder="留空则无需密码访问" autocomplete="off"
                        style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: var(--border-radius);">
                </div>
                
                <div class="form-group">
                    <label for="expiration">有效期</label>
                    <select name="expiration" id="expiration"
                        style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: var(--border-radius); background: white;">
                        <option value="1">1 小时</option>
                        <option value="3">3 小时</option>
                        <option value="8">8 小时</option>
                        <option value="24" selected>24 小时 (默认)</option>
                        <option value="72">3 天</option>
                        <option value="168">7 天</option>
                        <option value="720">30 天</option>
                        <option value="2160">90 天</option>
                        <option value="8760">365 天</option>
                    </select>
                </div>

                <button type="submit" class="btn btn-block"><i class="fas fa-upload"></i> 上传文件</button>

                <div class="upload-summary" id="upload-summary">
                    <span id="upload-count">0</span> 个文件正在上传，已完成 <span id="completed-count">0</span> 个
                </div>
            </form>

            <div class="requirements">
                <strong>上传说明:</strong>
                <ul>
                    <li>文件将在指定有效期后自动删除</li>
                    <li>系统会记录上传者IP和设备信息</li>
                    <li>支持同时上传多个文件</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- 弹窗 -->
    <div id="messageModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">提示</h2>
            </div>
            <div class="modal-body">
                <p id="modalMessage">这里是消息内容</p>
            </div>
            <div class="modal-footer">
                <button class="close-btn" id="modalCloseBtn">确定</button>
            </div>
        </div>
    </div>

    <script src="/static/js/upload.js"></script>
</body>
</html>
